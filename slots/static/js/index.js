/*极客学院前端组*/
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Game=function(){function t(e){return _classCallCheck(this,t),"object"!==(void 0===e?"undefined":_typeof(e))?(console.error("参数错误"),!1):!e["dom"]&&!e["property"]&&e["startPos"]&&e["endPos"]?(console.error("缺乏必要参数"),!1):(this.counter=0,this.dom=e["dom"],this.property=e["property"],this.startPos=e["startPos"],this.endPos=e["endPos"],this.duration=e["duration"]?e["duration"]:500,this.easing=e["easing"]?e["easing"]:"linear",void(this.counts=e["counts"]?e["counts"]:10))}return _createClass(t,[{"key":"run","value":function(t,e){var n=this;if(!t)return console.error("缺乏必要参数"),!1;e&&"function"!=typeof e&&console.error("参数类型错误");var r=new Animate(this.dom);r.start(this.property,this.startPos,this.endPos,this.duration,this.easing,function(){if(n.counter++,n.counter>=n.counts)return n.counter=0,r.start(n.property,n.startPos,t,800,"easeOut"),e&&setTimeout(function(){e()},1500),!1;n.dom.style[n.property]=n.startPos+"px",n.run(t,e)})}}]),t}(),Animate=function(){function t(e){_classCallCheck(this,t),this.dom=e,this.startTime=0,this.startPos=0,this.endPos=0,this.property=null,this.easing=null,this.duration=null}return _createClass(t,[{"key":"start","value":function(t,e,n,r,o,s){var i=this;this.property=t,this.startPos=e,this.endPos=n,this.startTime=(new Date).getTime(),this.duration=r,this.easing=Tween[o];var a=setInterval(function(){!1===i._step()&&(clearInterval(a),s&&s()),i._step()},20)}},{"key":"_step","value":function(){var t=(new Date).getTime();if(t>=this.startTime+this.duration)return this._update(this.endPos),!1;var e=this.easing(t-this.startTime,this.startPos,this.endPos-this.startPos,this.duration);this._update(e)}},{"key":"_update","value":function(t){this.dom.style[this.property]=t+"px"}}]),t}(),Tween={"linear":function(t,e,n,r){return n*t/r+e},"easeIn":function(t,e,n,r){return n*(t/=r)*t+e},"easeOut":function(t,e,n,r){return-n*(t/=r)*(t-2)+e},"easeBoth":function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},"easeInStrong":function(t,e,n,r){return n*(t/=r)*t*t*t+e},"easeOutStrong":function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},"easeBothStrong":function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},"elasticIn":function(t,e,n,r,o,s){if(0===t)return e;if(1==(t/=r))return e+n;if(s||(s=.3*r),!o||o<Math.abs(n)){o=n;i=s/4}else var i=s/(2*Math.PI)*Math.asin(n/o);return-o*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/s)+e},"elasticOut":function(t,e,n,r,o,s){if(0===t)return e;if(1==(t/=r))return e+n;if(s||(s=.3*r),!o||o<Math.abs(n)){o=n;i=s/4}else var i=s/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*t)*Math.sin((t*r-i)*(2*Math.PI)/s)+n+e},"elasticBoth":function(t,e,n,r,o,s){if(0===t)return e;if(2==(t/=r/2))return e+n;if(s||(s=r*(.3*1.5)),!o||o<Math.abs(n)){o=n;i=s/4}else var i=s/(2*Math.PI)*Math.asin(n/o);return t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/s)*-.5+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*r-i)*(2*Math.PI)/s)*.5+n+e},"backIn":function(t,e,n,r,o){return void 0===o&&(o=1.70158),n*(t/=r)*t*((o+1)*t-o)+e},"backOut":function(t,e,n,r,o){return void 0===o&&(o=1.10158),n*((t=t/r-1)*t*((o+1)*t+o)+1)+e},"backBoth":function(t,e,n,r,o){return void 0===o&&(o=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(o*=1.525))*t-o))+e:n/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},"bounceIn":function(t,e,n,r){return n-Tween["bounceOut"](r-t,0,n,r)+e},"bounceOut":function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},"bounceBoth":function(t,e,n,r){return t<r/2?.5*Tween["bounceIn"](2*t,0,n,r)+e:.5*Tween["bounceOut"](2*t-r,0,n,r)+.5*n+e}},App=function(){function t(e,n){if(_classCallCheck(this,t),!e&&!n)return console.error("参数缺失"),!1;this.params=n,this.button=e,this.game=[],this._gameInstance()}return _createClass(t,[{"key":"_gameInstance","value":function(){var t=this;this.params.forEach(function(e,n){t.game[n]=new Game(e)})}},{"key":"run","value":function(t,e){this.game.forEach(function(n,r){r===t.length-1?n.run(t[r],function(){e&&"function"==typeof e&&e()}):n.run(t[r])})}}]),t}(),app=new App(document.getElementById("start"),[{"dom":document.getElementsByClassName("superheros-list01")[0],"property":"top","startPos":-60,"endPos":-1050,"counts":5},{"dom":document.getElementsByClassName("superheros-list02")[0],"property":"top","startPos":-60,"endPos":-1050,"counts":6},{"dom":document.getElementsByClassName("superheros-list03")[0],"property":"top","startPos":-60,"endPos":-1050,"counts":7}]),prizeResultArray=[-170,-500,-500];document.getElementById("start").addEventListener("click",function(){app.run(prizeResultArray,function(){console.log("hello")})});